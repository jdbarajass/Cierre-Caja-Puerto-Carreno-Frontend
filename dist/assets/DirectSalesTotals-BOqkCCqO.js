import{a as e,g as t,j as s}from"./index-B5AGN1tq.js";import{r as a}from"./react-vendor-CfGu_lG-.js";import{a as r,b as l}from"./directApiService-BUTxQTgS.js";import{T as n,D as d,B as o,h as c,A as i,i as x,y as m,k as h,w as g,P as u,f as p}from"./icons-CN6QS1fG.js";const j=async(e,{maxRetries:t=3,retryDelay:s=8e3,shouldRetry:a=(e,t)=>{var s,a,r;return t?"TypeError"===t.name||(null==(s=t.message)?void 0:s.includes("timeout"))||(null==(a=t.message)?void 0:a.includes("network"))||(null==(r=t.message)?void 0:r.includes("fetch")):!e||!1===e.success},onRetry:r=(e,t)=>{}}={})=>{let l=null,n=null;for(let o=0;o<=t;o++)try{o>0&&(r(o,t),await new Promise(e=>setTimeout(e,s)));const d=await e();if(n=d,l=null,!a(d,null)||o===t)return d}catch(d){if(l=d,n=null,o===t||!a(null,d))throw d}if(l)throw l;return n},y=()=>{e("Totales de Ventas - Estadísticas Avanzadas");const[y,b]=a.useState("quick"),[N,f]=a.useState(!1),[v,w]=a.useState(null),[C,P]=a.useState(null),[k,T]=a.useState(()=>{const e=new Date;return e.setDate(1),e.toISOString().split("T")[0]}),[S,V]=a.useState(t()),[E,M]=a.useState(!1),[D,F]=a.useState(null),[R,H]=a.useState(null),[I,O]=a.useState(()=>{const e=new Date;return e.setDate(1),e.toISOString().split("T")[0]}),[A,z]=a.useState(t()),q=e=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(e||0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 rounded-xl shadow-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(n,{className:"w-8 h-8"}),s.jsx("h1",{className:"text-2xl font-bold",children:"Ventas Totales y Métricas Mensuales"})]}),s.jsx("p",{className:"text-yellow-50",children:"Consulta de totales de ventas y análisis detallado de métricas mensuales"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsx("button",{onClick:()=>b("quick"),className:"flex-1 px-6 py-4 text-sm font-medium transition-colors "+("quick"===y?"bg-yellow-50 text-yellow-700 border-b-2 border-yellow-500":"text-gray-600 hover:bg-gray-50"),children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(d,{className:"w-5 h-5"}),s.jsx("span",{children:"Totales de Ventas"})]})}),s.jsx("button",{onClick:()=>b("monthly"),className:"flex-1 px-6 py-4 text-sm font-medium transition-colors "+("monthly"===y?"bg-orange-50 text-orange-700 border-b-2 border-orange-500":"text-gray-600 hover:bg-gray-50"),children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(o,{className:"w-5 h-5"}),s.jsx("span",{children:"Ventas Mensuales y Métricas"})]})})]}),"quick"===y&&s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Selecciona el rango de fechas"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(c,{className:"w-4 h-4 inline mr-1"}),"Desde"]}),s.jsx("input",{type:"date",value:k,onChange:e=>T(e.target.value),max:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(c,{className:"w-4 h-4 inline mr-1"}),"Hasta"]}),s.jsx("input",{type:"date",value:S,onChange:e=>V(e.target.value),min:k,max:t(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:async()=>{f(!0),w(null);try{const e=await j(()=>r({from:k,to:S}),{maxRetries:3,retryDelay:8e3,shouldRetry:(e,t)=>{var s,a,r;return t?(null==(s=t.message)?void 0:s.includes("timeout"))||(null==(a=t.message)?void 0:a.includes("network"))||(null==(r=t.message)?void 0:r.includes("fetch")):!e||!e.success||0===e.total_sales},onRetry:(e,t)=>{w(`El servidor se está iniciando... Reintento ${e}/${t}`)}});if(!e||!e.success)throw new Error((null==e?void 0:e.error)||"Error al obtener resumen de ventas");P(e),w(null)}catch(e){w(e.message||"El servidor no responde. Intenta nuevamente en unos minutos."),P(null)}finally{f(!1)}},disabled:N||!k||!S,className:"w-full px-6 py-2 bg-yellow-600 text-white font-medium rounded-lg hover:bg-yellow-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:N?"Consultando...":"Consultar"})})]})]}),v&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(i,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-red-800",children:"Error al cargar ventas"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:v})]})]}),N&&s.jsxs("div",{className:"bg-white rounded-lg p-12 text-center",children:[s.jsx(x,{className:"w-12 h-12 text-yellow-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Consultando totales de ventas..."})]}),!N&&!v&&C&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(d,{className:"w-6 h-6 text-green-600"}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total de Ventas"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:C.total_sales_formatted||q(C.total_sales)})]}),s.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(m,{className:"w-6 h-6 text-blue-600"}),s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Días Procesados"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:C.days_count||0})]})]}),!N&&!v&&!C&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-12 text-center",children:[s.jsx(n,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Consulta tus ventas"}),s.jsx("p",{className:"text-gray-600",children:'Selecciona un rango de fechas y haz clic en "Consultar" para ver los totales'})]})]}),"monthly"===y&&s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Selecciona el rango de fechas para análisis"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(c,{className:"w-4 h-4 inline mr-1"}),"Desde"]}),s.jsx("input",{type:"date",value:I,onChange:e=>O(e.target.value),max:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(c,{className:"w-4 h-4 inline mr-1"}),"Hasta"]}),s.jsx("input",{type:"date",value:A,onChange:e=>z(e.target.value),min:I,max:t(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:async()=>{M(!0),F(null);try{const e=await j(()=>l({from:I,to:A}),{maxRetries:3,retryDelay:1e4,shouldRetry:(e,t)=>{var s,a,r;return t?(null==(s=t.message)?void 0:s.includes("timeout"))||(null==(a=t.message)?void 0:a.includes("network"))||(null==(r=t.message)?void 0:r.includes("fetch")):!e||!e.success||!e.data||0===e.data.length},onRetry:(e,t)=>{F(`El servidor se está iniciando... Reintento ${e}/${t} (puede tomar hasta 30 segundos)`)}});if(!e||!e.success)throw new Error((null==e?void 0:e.error)||"Error al obtener documentos de ventas");{const t=(e=>{if(!e||0===e.length)return null;const t=e.reduce((e,t)=>e+(t.total||0),0),s=e.length,a=s>0?t/s:0,r={};e.forEach(e=>{const t=e.paymentMethod||"No especificado";r[t]||(r[t]={total:0,count:0}),r[t].total+=e.total||0,r[t].count+=1});const l=Object.entries(r).map(([e,s])=>({metodo:e,total:s.total,count:s.count,porcentaje:t>0?s.total/t*100:0})).sort((e,t)=>t.total-e.total),n={};e.forEach(e=>{const t=e.seller||"Sin vendedor";n[t]||(n[t]={total:0,count:0}),n[t].total+=e.total||0,n[t].count+=1});const d=Object.entries(n).map(([e,t])=>({vendedor:e,total:t.total,count:t.count,ticketPromedio:t.count>0?t.total/t.count:0})).sort((e,t)=>t.total-e.total),o={};let c=0;e.forEach((e,t)=>{e.items&&Array.isArray(e.items)&&e.items.forEach(e=>{const t=e.name||"Sin nombre",s=e.quantity||0,a=s*(e.price||0);o[t]||(o[t]={cantidad:0,ingresos:0}),o[t].cantidad+=s,o[t].ingresos+=a,c+=s})});const i=Object.entries(o).map(([e,t])=>({nombre:e,cantidad:t.cantidad,ingresos:t.ingresos})).sort((e,t)=>t.cantidad-e.cantidad),x=[...i].sort((e,t)=>t.ingresos-e.ingresos),m=s>0?c/s:0,h={};e.forEach(e=>{var t,s;const a=(null==(t=e.client)?void 0:t.id)||"Sin cliente",r=(null==(s=e.client)?void 0:s.name)||"Cliente general";h[a]||(h[a]={nombre:r,total:0,count:0}),h[a].total+=e.total||0,h[a].count+=1});const g=Object.keys(h).length,u=g>0?t/g:0,p=Object.entries(h).map(([e,t])=>({id:e,nombre:t.nombre,total:t.total,count:t.count})).sort((e,t)=>t.total-e.total).slice(0,10),j={};for(let f=0;f<24;f++)j[f]={total:0,count:0};e.forEach(e=>{if(e.date||e.datetime)try{const t=new Date(e.date||e.datetime).getHours();t>=0&&t<24&&(j[t].total+=e.total||0,j[t].count+=1)}catch(t){}});const y=Object.entries(j).map(([e,t])=>({hora:parseInt(e),total:t.total,count:t.count})).sort((e,t)=>t.total-e.total),b=y[0],N={manana:{total:0,count:0},tarde:{total:0,count:0},noche:{total:0,count:0}};return y.forEach(({hora:e,total:t,count:s})=>{e>=6&&e<=11?(N.manana.total+=t,N.manana.count+=s):e>=12&&e<=17?(N.tarde.total+=t,N.tarde.count+=s):e>=18&&e<=23&&(N.noche.total+=t,N.noche.count+=s)}),{general:{totalVentas:t,numFacturas:s,ticketPromedio:a,ventasPromedioFactura:a},metodosPago:l,vendedores:d,productos:{porCantidad:i.slice(0,10),porIngresos:x.slice(0,10),totalUnidades:c,cantidadPromedioProductos:m},clientes:{clientesUnicos:g,ticketPromedioPorCliente:u,topClientes:p},tiempo:{ventasPorHora:y,horaMayorVentas:b,franjas:N}}})(e.data);H(t),F(null)}}catch(e){F(e.message||"El servidor no responde. Intenta nuevamente en unos minutos."),H(null)}finally{M(!1)}},disabled:E||!I||!A,className:"w-full px-6 py-2 bg-orange-600 text-white font-medium rounded-lg hover:bg-orange-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:E?"Analizando...":"Consultar"})})]})]}),D&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(i,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-red-800",children:"Error al cargar métricas"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:D})]})]}),E&&s.jsxs("div",{className:"bg-white rounded-lg p-12 text-center",children:[s.jsx(x,{className:"w-12 h-12 text-orange-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Analizando ventas y métricas..."})]}),!E&&!D&&R&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(d,{className:"w-5 h-5 text-orange-600"}),"Métricas Generales de Ventas"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total de Ventas"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:q(R.general.totalVentas)})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Número de Facturas"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.general.numFacturas})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ticket Promedio"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:q(R.general.ticketPromedio)})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Promedio por Factura"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:q(R.general.ventasPromedioFactura)})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(h,{className:"w-5 h-5 text-orange-600"}),"Métodos de Pago"]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Método"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transacciones"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"% del Total"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:R.metodosPago.map((e,t)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.metodo}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600 font-semibold",children:q(e.total)}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-blue-600",children:e.count}),s.jsxs("td",{className:"px-4 py-3 text-sm text-right text-purple-600 font-semibold",children:[e.porcentaje.toFixed(1),"%"]})]},t))})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(g,{className:"w-5 h-5 text-orange-600"}),"Ranking de Vendedores"]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendedor"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Vendido"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Facturas"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ticket Promedio"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:R.vendedores.map((e,t)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.vendedor}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600 font-semibold",children:q(e.total)}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-blue-600",children:e.count}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-purple-600",children:q(e.ticketPromedio)})]},t))})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(u,{className:"w-5 h-5 text-orange-600"}),"Productos Destacados"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total de Unidades Vendidas"}),s.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:R.productos.totalUnidades})]}),s.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Promedio Productos por Factura"}),s.jsx("p",{className:"text-2xl font-bold text-pink-600",children:R.productos.cantidadPromedioProductos.toFixed(1)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Top 10 - Más Vendidos por Cantidad"}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Producto"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cant."})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:R.productos.porCantidad.map((e,t)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2 text-xs text-gray-900 truncate max-w-[200px]",title:e.nombre,children:e.nombre}),s.jsx("td",{className:"px-3 py-2 text-xs text-right text-blue-600 font-semibold",children:e.cantidad})]},t))})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Top 10 - Mayores Ingresos"}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Producto"}),s.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Ingresos"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:R.productos.porIngresos.map((e,t)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-2 text-xs text-gray-900 truncate max-w-[200px]",title:e.nombre,children:e.nombre}),s.jsx("td",{className:"px-3 py-2 text-xs text-right text-green-600 font-semibold",children:q(e.ingresos)})]},t))})]})})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(g,{className:"w-5 h-5 text-orange-600"}),"Clientes"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Clientes Únicos"}),s.jsx("p",{className:"text-2xl font-bold text-cyan-600",children:R.clientes.clientesUnicos})]}),s.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ticket Promedio por Cliente"}),s.jsx("p",{className:"text-2xl font-bold text-teal-600",children:q(R.clientes.ticketPromedioPorCliente)})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Top 10 Clientes por Compra Total"}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Compras"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:R.clientes.topClientes.map((e,t)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.nombre}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600 font-semibold",children:q(e.total)}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-blue-600",children:e.count})]},t))})]})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(p,{className:"w-5 h-5 text-orange-600"}),"Análisis de Horarios"]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Hora con Mayor Volumen de Ventas"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-700",children:[R.tiempo.horaMayorVentas.hora,":00 - ",R.tiempo.horaMayorVentas.hora+1,":00"]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[q(R.tiempo.horaMayorVentas.total)," en ",R.tiempo.horaMayorVentas.count," transacciones"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Distribución por Franja Horaria"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Mañana (6am - 11am)"}),s.jsx("p",{className:"text-xl font-bold text-orange-600",children:q(R.tiempo.franjas.manana.total)}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[R.tiempo.franjas.manana.count," transacciones"]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tarde (12pm - 5pm)"}),s.jsx("p",{className:"text-xl font-bold text-blue-600",children:q(R.tiempo.franjas.tarde.total)}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[R.tiempo.franjas.tarde.count," transacciones"]})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Noche (6pm - 11pm)"}),s.jsx("p",{className:"text-xl font-bold text-purple-600",children:q(R.tiempo.franjas.noche.total)}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[R.tiempo.franjas.noche.count," transacciones"]})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Top 5 Horas de Mayor Venta"}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hora"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Transacciones"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:R.tiempo.ventasPorHora.slice(0,5).map((e,t)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[e.hora,":00 - ",e.hora+1,":00"]}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600 font-semibold",children:q(e.total)}),s.jsx("td",{className:"px-4 py-3 text-sm text-right text-blue-600",children:e.count})]},t))})]})})]})]})]}),!E&&!D&&!R&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-12 text-center",children:[s.jsx(o,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Analiza tus ventas mensuales"}),s.jsx("p",{className:"text-gray-600",children:'Selecciona un rango de fechas y haz clic en "Consultar" para ver métricas detalladas'})]})]})]})]})};export{y as default};
